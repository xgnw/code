# 1. 平衡二叉树的定义

<center><svg id="SvgjsSvg1258" width="655.8542175292969" height="414.0138854980469" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1259"></defs><g id="SvgjsG1260" transform="translate(145.1706281389512,25.013885498046875)"><path id="SvgjsPath1261" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1262"><text id="SvgjsText1263" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="15px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="15px" weight="700" font-style="" opacity="1" y="9.625" transform="rotate(0)"><tspan id="SvgjsTspan1264" dy="18" x="21"><tspan id="SvgjsTspan1265" style="text-decoration:;">1</tspan></tspan></text></g></g><g id="SvgjsG1266" transform="translate(72.67062813895092,119.91864740280877)"><path id="SvgjsPath1267" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1268"><text id="SvgjsText1269" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="15px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="15px" weight="700" font-style="" opacity="1" y="9.625" transform="rotate(0)"><tspan id="SvgjsTspan1270" dy="18" x="21"><tspan id="SvgjsTspan1271" style="text-decoration:;">-1</tspan></tspan></text></g></g><g id="SvgjsG1272" transform="translate(209.86110432942735,119.91864740280877)"><path id="SvgjsPath1273" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1274"><text id="SvgjsText1275" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="15px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="15px" weight="700" font-style="" opacity="1" y="9.625" transform="rotate(0)"><tspan id="SvgjsTspan1276" dy="18" x="21"><tspan id="SvgjsTspan1277" style="text-decoration:;">1</tspan></tspan></text></g></g><g id="SvgjsG1278" transform="translate(25.003961472284345,202.58964307380322)"><path id="SvgjsPath1279" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1280"><text id="SvgjsText1281" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="15px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="15px" weight="700" font-style="" opacity="1" y="9.625" transform="rotate(0)"><tspan id="SvgjsTspan1282" dy="18" x="21"><tspan id="SvgjsTspan1283" style="text-decoration:;">0</tspan></tspan></text></g></g><g id="SvgjsG1284" transform="translate(114.67062813895092,202.58964307380322)"><path id="SvgjsPath1285" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1286"><text id="SvgjsText1287" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="15px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="15px" weight="700" font-style="" opacity="1" y="9.625" transform="rotate(0)"><tspan id="SvgjsTspan1288" dy="18" x="21"><tspan id="SvgjsTspan1289" style="text-decoration:;">1</tspan></tspan></text></g></g><g id="SvgjsG1290" transform="translate(172.67062813895086,204.58964307380322)"><path id="SvgjsPath1291" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1292"><text id="SvgjsText1293" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="15px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="15px" weight="700" font-style="" opacity="1" y="9.625" transform="rotate(0)"><tspan id="SvgjsTspan1294" dy="18" x="21"><tspan id="SvgjsTspan1295" style="text-decoration:;">0</tspan></tspan></text></g></g><g id="SvgjsG1296"><path id="SvgjsPath1297" d="M94.3852918231575 119.21917916301783L152.4559644547445 62.38322671891564" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1298"><path id="SvgjsPath1299" d="M230.2415357955357 119.13370483687714L183.15000620233263 59.47259545103623" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1300"><path id="SvgjsPath1301" d="M46.56792876504548 201.7638459481751L77.91966606928449 155.8566189128406" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1302"><path id="SvgjsPath1303" d="M135.14519251053113 201.738809717389L107.63793826879564 157.19655147231856" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1304"><path id="SvgjsPath1305" d="M194.1136326621732 203.69312369732296L217.5986519709183 156.16590046683643" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1306" transform="translate(73.67062813895092,288.58964307380324)"><path id="SvgjsPath1307" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1308"><text id="SvgjsText1309" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="15px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="15px" weight="700" font-style="" opacity="1" y="9.625" transform="rotate(0)"><tspan id="SvgjsTspan1310" dy="18" x="21"><tspan id="SvgjsTspan1311" style="text-decoration:;">0</tspan></tspan></text></g></g><g id="SvgjsG1312"><path id="SvgjsPath1313" d="M123.72032902731385 242.28404674035767L95.20205632240604 287.74253972365665" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1314" transform="translate(524.1706281389511,25.013885498046875)"><path id="SvgjsPath1315" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1316"><text id="SvgjsText1317" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="15px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="15px" weight="700" font-style="" opacity="1" y="9.625" transform="rotate(0)"><tspan id="SvgjsTspan1318" dy="18" x="21"><tspan id="SvgjsTspan1319" style="text-decoration:;">2</tspan></tspan></text></g></g><g id="SvgjsG1320" transform="translate(451.67062813895086,119.91864740280877)"><path id="SvgjsPath1321" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1322"><text id="SvgjsText1323" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="15px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="15px" weight="700" font-style="" opacity="1" y="9.625" transform="rotate(0)"><tspan id="SvgjsTspan1324" dy="18" x="21"><tspan id="SvgjsTspan1325" style="text-decoration:;">-1</tspan></tspan></text></g></g><g id="SvgjsG1326" transform="translate(588.8611043294272,119.91864740280877)"><path id="SvgjsPath1327" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1328"><text id="SvgjsText1329" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="15px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="15px" weight="700" font-style="" opacity="1" y="9.625" transform="rotate(0)"><tspan id="SvgjsTspan1330" dy="18" x="21"><tspan id="SvgjsTspan1331" style="text-decoration:;">0</tspan></tspan></text></g></g><g id="SvgjsG1332" transform="translate(404.00396147228435,202.58964307380324)"><path id="SvgjsPath1333" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1334"><text id="SvgjsText1335" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="15px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="15px" weight="700" font-style="" opacity="1" y="9.625" transform="rotate(0)"><tspan id="SvgjsTspan1336" dy="18" x="21"><tspan id="SvgjsTspan1337" style="text-decoration:;">0</tspan></tspan></text></g></g><g id="SvgjsG1338" transform="translate(493.67062813895086,202.58964307380324)"><path id="SvgjsPath1339" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1340"><text id="SvgjsText1341" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="15px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="15px" weight="700" font-style="" opacity="1" y="9.625" transform="rotate(0)"><tspan id="SvgjsTspan1342" dy="18" x="21"><tspan id="SvgjsTspan1343" style="text-decoration:;">0</tspan></tspan></text></g></g><g id="SvgjsG1344" transform="translate(536.8611043294272,288.58964307380324)"><path id="SvgjsPath1345" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1346"><text id="SvgjsText1347" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="15px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="15px" weight="700" font-style="" opacity="1" y="9.625" transform="rotate(0)"><tspan id="SvgjsTspan1348" dy="18" x="21"><tspan id="SvgjsTspan1349" style="text-decoration:;">0</tspan></tspan></text></g></g><g id="SvgjsG1350"><path id="SvgjsPath1351" d="M473.38529182315744 119.21917916301783L531.4559644547445 62.38322671891564" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1352"><path id="SvgjsPath1353" d="M609.2415357955356 119.13370483687711L562.1500062023326 59.47259545103623" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1354"><path id="SvgjsPath1355" d="M425.5679287650455 201.76384594817512L456.9196660692844 155.8566189128406" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1356"><path id="SvgjsPath1357" d="M514.145192510531 201.73880971738902L486.63793826879566 157.19655147231856" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1358"><path id="SvgjsPath1359" d="M557.3602518802617 287.7241103914828L529.3354021621196 239.29383239527453" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1360" transform="translate(452.67062813895086,288.58964307380324)"><path id="SvgjsPath1361" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1362"><text id="SvgjsText1363" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="15px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="15px" weight="700" font-style="" opacity="1" y="9.625" transform="rotate(0)"><tspan id="SvgjsTspan1364" dy="18" x="21"><tspan id="SvgjsTspan1365" style="text-decoration:;">0</tspan></tspan></text></g></g><g id="SvgjsG1366"><path id="SvgjsPath1367" d="M502.72032902731394 242.28404674035767L474.20205632240595 287.74253972365665" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1368" transform="translate(48.735113961356035,347.0138854980469)"><path id="SvgjsPath1369" d="M 0 0L 173.87102835518976 0L 173.87102835518976 43L 0 43Z" stroke="none" fill="none"></path><g id="SvgjsG1370"><text id="SvgjsText1371" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="174px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="9.5" transform="rotate(0)"><tspan id="SvgjsTspan1372" dy="20" x="87"><tspan id="SvgjsTspan1373" style="text-decoration:;">（a）平衡二叉树</tspan></tspan></text></g></g><g id="SvgjsG1374" transform="translate(442.7351139613561,347.0138854980469)"><path id="SvgjsPath1375" d="M 0 0L 173.87102835518976 0L 173.87102835518976 43L 0 43Z" stroke="none" fill="none"></path><g id="SvgjsG1376"><text id="SvgjsText1377" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="174px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="9.5" transform="rotate(0)"><tspan id="SvgjsTspan1378" dy="20" x="87"><tspan id="SvgjsTspan1379" style="text-decoration:;">（b）非平衡二叉树</tspan></tspan></text></g></g></svg></center>

为避免树的高度增长过快，降低二叉搜索树的性能，规定在插入和删除二叉树结点时，要保证任意结点的左、右子树高度差的绝对值不超过 $1$，将这样的二叉树称为**平衡二叉树**(Balanced Binary Tree)， 简称平衡树。定义结点左子树与右子树的高度差为该结点的平衡因子，则平衡二叉树结点的平衡因子的值只可能是 $ -1$、$0$ 或 $1$。

- 平衡二叉树可以是一棵空树
- 平衡二叉树左子树和右子树都是平衡二叉树，且左右子树的高度差的绝对值不超过 $1$

# 2. 平衡二叉树结点

```java
private static class Node implements Comparable<Node> {
    public int data;
    public int height;
    public Node left;
    public Node right;

    public Node(int data) {
        this(data, null, null);
    }

    @Override
    public String toString() {
        return new StringJoiner(", ", Node.class.getSimpleName() + "[", "]")
            .add("data=" + data)
            .toString();
    }

    public Node(int data, Node left, Node right) {
        this.data = data;
        this.left = left;
        this.right = right;
        this.height = 0;
    }

    @Override
    public int compareTo(Node node) {
        return data - node.data;
    }
}
```

# 3. 平衡二叉树的旋转

在说明旋转之前，首先要假定一个基本事实，即空结点的高度是 $0$，单结点高度为 $1$：

```java
private static int height(Node node) {
    return node == null ? 0 : node.height;
}
```

当平衡二叉树进行插入（或删除）一个结点时，将会导致子树的高度加 $1$ 或减 $1$，有可能造成平衡性的破坏，这时就要通过**旋转**来保证 AVL 树的平衡性，假设平衡性在 **A** 结点开始破坏，即 **A** 左右子树高度差为 $2$，主要有以下 4 种情况：

## 3.1 LL 旋转

<center><svg id="SvgjsSvg1142" width="762.5173950195312" height="350.6493225097656" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1143"><marker id="SvgjsMarker1184" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1185" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker></defs><g id="SvgjsG1144" transform="translate(163.85067749023438,25.013877868652344)"><path id="SvgjsPath1145" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1146"><text id="SvgjsText1147" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="700" font-style="" opacity="1" y="9" transform="rotate(0)"><tspan id="SvgjsTspan1148" dy="20" x="21"><tspan id="SvgjsTspan1149" style="text-decoration:;">A</tspan></tspan></text></g></g><g id="SvgjsG1150" transform="translate(84.97567749023438,126.76387786865234)"><path id="SvgjsPath1151" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1152"><text id="SvgjsText1153" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="700" font-style="" opacity="1" y="9" transform="rotate(0)"><tspan id="SvgjsTspan1154" dy="20" x="21"><tspan id="SvgjsTspan1155" style="text-decoration:;">B</tspan></tspan></text></g></g><g id="SvgjsG1156" transform="translate(225.22567749023438,134.27777099609375)"><path id="SvgjsPath1157" d="M 28 0L 56 78L 0 78Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1158"><text id="SvgjsText1159" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="36.75" transform="rotate(0)"><tspan id="SvgjsTspan1160" dy="20" x="28"><tspan id="SvgjsTspan1161" style="text-decoration:;">AR</tspan></tspan></text></g></g><g id="SvgjsG1162" transform="translate(127.22567749023438,218.15277099609375)"><path id="SvgjsPath1163" d="M 28 0L 56 78L 0 78Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1164"><text id="SvgjsText1165" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="36.75" transform="rotate(0)"><tspan id="SvgjsTspan1166" dy="20" x="28"><tspan id="SvgjsTspan1167" style="text-decoration:;">BR</tspan></tspan></text></g></g><g id="SvgjsG1168" transform="translate(31.72567749023436,218.15277099609375)"><path id="SvgjsPath1169" d="M 28 0L 56 78L 0 78Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1170"><text id="SvgjsText1171" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="36.75" transform="rotate(0)"><tspan id="SvgjsTspan1172" dy="20" x="28"><tspan id="SvgjsTspan1173" style="text-decoration:;">BL</tspan></tspan></text></g></g><g id="SvgjsG1174"><path id="SvgjsPath1175" d="M167.8765432083774 59.565714364143744L121.07209653730987 131.51687698242208" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1176"><path id="SvgjsPath1177" d="M199.7961770110727 60.83424891277569L252.6373903597095 133.46911887555066" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1178"><path id="SvgjsPath1179" d="M89.8437369281275 163.04337217127812L60.20524598114501 217.27526654452345" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1180"><path id="SvgjsPath1181" d="M122.46388706266399 162.33187316016662L154.71950736872628 217.2903373417803" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1182"><path id="SvgjsPath1183" d="M295.2577397273137 167.79779639610877L375.2577397273137 167.79779639610877L375.2577397273137 167.79779639610877L455.2577397273135 167.79779639610877" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1184)"></path></g><g id="SvgjsG1186" transform="translate(630.6102928748485,126.76387786865232)"><path id="SvgjsPath1187" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1188"><text id="SvgjsText1189" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="700" font-style="" opacity="1" y="9" transform="rotate(0)"><tspan id="SvgjsTspan1190" dy="20" x="21"><tspan id="SvgjsTspan1191" style="text-decoration:;">A</tspan></tspan></text></g></g><g id="SvgjsG1192" transform="translate(549.8410621056182,25.013877868652315)"><path id="SvgjsPath1193" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1194"><text id="SvgjsText1195" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="700" font-style="" opacity="1" y="9" transform="rotate(0)"><tspan id="SvgjsTspan1196" dy="20" x="21"><tspan id="SvgjsTspan1197" style="text-decoration:;">B</tspan></tspan></text></g></g><g id="SvgjsG1198" transform="translate(677.5333697979255,223.6492961536744)"><path id="SvgjsPath1199" d="M 28 0L 56 78L 0 78Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1200"><text id="SvgjsText1201" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="36.75" transform="rotate(0)"><tspan id="SvgjsTspan1202" dy="20" x="28"><tspan id="SvgjsTspan1203" style="text-decoration:;">AR</tspan></tspan></text></g></g><g id="SvgjsG1204" transform="translate(574.6102928748485,223.6492961536744)"><path id="SvgjsPath1205" d="M 28 0L 56 78L 0 78Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1206"><text id="SvgjsText1207" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="36.75" transform="rotate(0)"><tspan id="SvgjsTspan1208" dy="20" x="28"><tspan id="SvgjsTspan1209" style="text-decoration:;">BR</tspan></tspan></text></g></g><g id="SvgjsG1210" transform="translate(473.264139028695,137.02250189530108)"><path id="SvgjsPath1211" d="M 28 0L 56 78L 0 78Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1212"><text id="SvgjsText1213" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="36.75" transform="rotate(0)"><tspan id="SvgjsTspan1214" dy="20" x="28"><tspan id="SvgjsTspan1215" style="text-decoration:;">BL</tspan></tspan></text></g></g><g id="SvgjsG1216"><path id="SvgjsPath1217" d="M636.4854641967604 132.25485529656044L587.7675968989864 60.03361988300341" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1218"><path id="SvgjsPath1219" d="M553.3953571797324 59.92840841763454L501.824296023343 136.1941154267087" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1220"><path id="SvgjsPath1221" d="M635.1701069678813 162.81334909892612L603.0821666095147 222.76763001588068" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1222"><path id="SvgjsPath1223" d="M667.4578307016575 162.8931683837565L705.0023386577383 222.80194384905053" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1224" transform="translate(314.1032998678556,127.7638778686522)"><path id="SvgjsPath1225" d="M 0 0L 120 0L 120 40L 0 40Z" stroke="none" fill="none"></path><g id="SvgjsG1226"><text id="SvgjsText1227" font-family="微软雅黑" text-anchor="middle" font-size="20px" width="120px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="20px" weight="700" font-style="" opacity="1" y="4.5" transform="rotate(0)"><tspan id="SvgjsTspan1228" dy="25" x="60"><tspan id="SvgjsTspan1229" style="text-decoration:;">LL旋转</tspan></tspan></text></g></g><g id="SvgjsG1230" transform="translate(25.017333984375,301.6577619539265)"><path id="SvgjsPath1231" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1232"><text id="SvgjsText1233" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1234" dy="20" x="30"><tspan id="SvgjsTspan1235" style="text-decoration:;">h + </tspan><tspan id="SvgjsTspan1236" style="text-decoration:;font-style: normal; font-weight: normal;">1</tspan></tspan></text></g></g><g id="SvgjsG1237" transform="translate(467.7288724459121,215.03096769555322)"><path id="SvgjsPath1238" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1239"><text id="SvgjsText1240" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1241" dy="20" x="30"><tspan id="SvgjsTspan1242" style="text-decoration:;">h + </tspan><tspan id="SvgjsTspan1243" style="text-decoration:;font-style: normal; font-weight: normal;">1</tspan></tspan></text></g></g><g id="SvgjsG1244" transform="translate(562.017333984375,135.49961639617683)"><path id="SvgjsPath1245" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1246"><text id="SvgjsText1247" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1248" dy="20" x="30"><tspan id="SvgjsTspan1249" style="text-decoration:;">h + </tspan><tspan id="SvgjsTspan1250" style="text-decoration:;font-style: normal; font-weight: normal;">1</tspan></tspan></text></g></g><g id="SvgjsG1251" transform="translate(25.017333984375,135.49961639617686)"><path id="SvgjsPath1252" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1253"><text id="SvgjsText1254" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1255" dy="20" x="30"><tspan id="SvgjsTspan1256" style="text-decoration:;">h + </tspan><tspan id="SvgjsTspan1257" style="text-decoration:;font-style: normal; font-weight: normal;">2</tspan></tspan></text></g></g><g id="SvgjsG1258" transform="translate(125.017333984375,296.15277099609375)"><path id="SvgjsPath1259" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1260"><text id="SvgjsText1261" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1262" dy="20" x="30"><tspan id="SvgjsTspan1263" style="text-decoration:;">h</tspan></tspan></text></g></g><g id="SvgjsG1264" transform="translate(222.72567749023438,215.03096769555322)"><path id="SvgjsPath1265" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1266"><text id="SvgjsText1267" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1268" dy="20" x="30"><tspan id="SvgjsTspan1269" style="text-decoration:;">h</tspan></tspan></text></g></g><g id="SvgjsG1270" transform="translate(677.5333697979255,301.6492961536744)"><path id="SvgjsPath1271" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1272"><text id="SvgjsText1273" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1274" dy="20" x="30"><tspan id="SvgjsTspan1275" style="text-decoration:;">h</tspan></tspan></text></g></g><g id="SvgjsG1276" transform="translate(570.6519493689891,301.6492961536744)"><path id="SvgjsPath1277" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1278"><text id="SvgjsText1279" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1280" dy="20" x="30"><tspan id="SvgjsTspan1281" style="text-decoration:;">h</tspan></tspan></text></g></g></svg></center>

```java
private static Node LL(Node imbalance) {
    Node balance = imbalance.left;
    imbalance.left = balance.right;
    balance.right = imbalance;
    imbalance.height = Math.max(height(imbalance.left), height(imbalance.right)) + 1;
    balance.height = Math.max(height(balance.left), height(balance.right)) + 1;
    return balance;
}
```

## 3.2 RR 旋转

<center><svg id="SvgjsSvg1282" width="718.6458435058594" height="350.6319885253906" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1283"><marker id="SvgjsMarker1324" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1325" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker></defs><g id="SvgjsG1284" transform="translate(574.7822946401733,30.49998127330329)"><path id="SvgjsPath1285" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1286"><text id="SvgjsText1287" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="700" font-style="" opacity="1" y="9" transform="rotate(0)"><tspan id="SvgjsTspan1288" dy="20" x="21"><tspan id="SvgjsTspan1289" style="text-decoration:;">B</tspan></tspan></text></g></g><g id="SvgjsG1290" transform="translate(495.9072946401733,132.2499812733033)"><path id="SvgjsPath1291" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1292"><text id="SvgjsText1293" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="700" font-style="" opacity="1" y="9" transform="rotate(0)"><tspan id="SvgjsTspan1294" dy="20" x="21"><tspan id="SvgjsTspan1295" style="text-decoration:;">A</tspan></tspan></text></g></g><g id="SvgjsG1296" transform="translate(636.1572946401733,139.7638744007447)"><path id="SvgjsPath1297" d="M 28 0L 56 78L 0 78Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1298"><text id="SvgjsText1299" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="36.75" transform="rotate(0)"><tspan id="SvgjsTspan1300" dy="20" x="28"><tspan id="SvgjsTspan1301" style="text-decoration:;">BR</tspan></tspan></text></g></g><g id="SvgjsG1302" transform="translate(538.1572946401733,223.63887440074473)"><path id="SvgjsPath1303" d="M 28 0L 56 78L 0 78Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1304"><text id="SvgjsText1305" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="36.75" transform="rotate(0)"><tspan id="SvgjsTspan1306" dy="20" x="28"><tspan id="SvgjsTspan1307" style="text-decoration:;">BL</tspan></tspan></text></g></g><g id="SvgjsG1308" transform="translate(442.6572946401733,223.63887440074473)"><path id="SvgjsPath1309" d="M 28 0L 56 78L 0 78Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1310"><text id="SvgjsText1311" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="36.75" transform="rotate(0)"><tspan id="SvgjsTspan1312" dy="20" x="28"><tspan id="SvgjsTspan1313" style="text-decoration:;">AL</tspan></tspan></text></g></g><g id="SvgjsG1314"><path id="SvgjsPath1315" d="M578.8081603583163 65.05181776879475L532.0037136872487 137.00298038707294" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1316"><path id="SvgjsPath1317" d="M610.7277941610115 66.32035231742667L663.5690075096485 138.9552222802016" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1318"><path id="SvgjsPath1319" d="M500.77535407806647 168.52947557592915L471.13686313108394 222.76136994917442" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1320"><path id="SvgjsPath1321" d="M533.3955042126029 167.81797656481763L565.6511245186653 222.77644074643126" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1322"><path id="SvgjsPath1323" d="M285.53551072340747 163.78737464317908L365.53551072340747 163.78737464317908L365.53551072340747 163.78737464317908L445.53551072340724 163.78737464317908" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1324)"></path></g><g id="SvgjsG1326" transform="translate(187.88806387094223,126.75345611572263)"><path id="SvgjsPath1327" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1328"><text id="SvgjsText1329" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="700" font-style="" opacity="1" y="9" transform="rotate(0)"><tspan id="SvgjsTspan1330" dy="20" x="21"><tspan id="SvgjsTspan1331" style="text-decoration:;">B</tspan></tspan></text></g></g><g id="SvgjsG1332" transform="translate(107.11883310171197,25.003456115722628)"><path id="SvgjsPath1333" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1334"><text id="SvgjsText1335" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="700" font-style="" opacity="1" y="9" transform="rotate(0)"><tspan id="SvgjsTspan1336" dy="20" x="21"><tspan id="SvgjsTspan1337" style="text-decoration:;">A</tspan></tspan></text></g></g><g id="SvgjsG1338" transform="translate(234.81114079401925,223.63887440074473)"><path id="SvgjsPath1339" d="M 28 0L 56 78L 0 78Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1340"><text id="SvgjsText1341" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="36.75" transform="rotate(0)"><tspan id="SvgjsTspan1342" dy="20" x="28"><tspan id="SvgjsTspan1343" style="text-decoration:;">BR</tspan></tspan></text></g></g><g id="SvgjsG1344" transform="translate(131.88806387094223,223.63887440074473)"><path id="SvgjsPath1345" d="M 28 0L 56 78L 0 78Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1346"><text id="SvgjsText1347" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="36.75" transform="rotate(0)"><tspan id="SvgjsTspan1348" dy="20" x="28"><tspan id="SvgjsTspan1349" style="text-decoration:;">BL</tspan></tspan></text></g></g><g id="SvgjsG1350" transform="translate(30.541910024788763,137.0120801423714)"><path id="SvgjsPath1351" d="M 28 0L 56 78L 0 78Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1352"><text id="SvgjsText1353" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="36.75" transform="rotate(0)"><tspan id="SvgjsTspan1354" dy="20" x="28"><tspan id="SvgjsTspan1355" style="text-decoration:;">AL</tspan></tspan></text></g></g><g id="SvgjsG1356"><path id="SvgjsPath1357" d="M193.7632351928541 132.24443354363075L145.04536789508023 60.02319813007372" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1358"><path id="SvgjsPath1359" d="M110.67312817582618 59.917986664704856L59.10206701943672 136.183693673779" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1360"><path id="SvgjsPath1361" d="M192.44787796397503 162.80292734599644L160.35993760560854 222.757208262951" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1362"><path id="SvgjsPath1363" d="M224.73560169775124 162.8827466308268L262.280109653832 222.79152209612084" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1364" transform="translate(304.38107086394933,123.75345611572251)"><path id="SvgjsPath1365" d="M 0 0L 120 0L 120 40L 0 40Z" stroke="none" fill="none"></path><g id="SvgjsG1366"><text id="SvgjsText1367" font-family="微软雅黑" text-anchor="middle" font-size="20px" width="120px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="20px" weight="700" font-style="" opacity="1" y="4.5" transform="rotate(0)"><tspan id="SvgjsTspan1368" dy="25" x="60"><tspan id="SvgjsTspan1369" style="text-decoration:;">RR旋转</tspan></tspan></text></g></g><g id="SvgjsG1370" transform="translate(633.6572946401733,218.60687661337442)"><path id="SvgjsPath1371" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1372"><text id="SvgjsText1373" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1374" dy="20" x="30"><tspan id="SvgjsTspan1375" style="text-decoration:;">h + </tspan><tspan id="SvgjsTspan1376" style="text-decoration:;font-style: normal; font-weight: normal;">1</tspan></tspan></text></g></g><g id="SvgjsG1377" transform="translate(235.00664344200584,301.6388744007447)"><path id="SvgjsPath1378" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1379"><text id="SvgjsText1380" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1381" dy="20" x="30"><tspan id="SvgjsTspan1382" style="text-decoration:;">h + </tspan><tspan id="SvgjsTspan1383" style="text-decoration:;font-style: normal; font-weight: normal;">1</tspan></tspan></text></g></g><g id="SvgjsG1384" transform="translate(543.1572946401733,140.9857198008278)"><path id="SvgjsPath1385" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1386"><text id="SvgjsText1387" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1388" dy="20" x="30"><tspan id="SvgjsTspan1389" style="text-decoration:;">h + </tspan><tspan id="SvgjsTspan1390" style="text-decoration:;font-style: normal; font-weight: normal;">1</tspan></tspan></text></g></g><g id="SvgjsG1391" transform="translate(127.92972036508286,135.48919464324715)"><path id="SvgjsPath1392" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1393"><text id="SvgjsText1394" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1395" dy="20" x="30"><tspan id="SvgjsTspan1396" style="text-decoration:;">h + </tspan><tspan id="SvgjsTspan1397" style="text-decoration:;font-style: normal; font-weight: normal;">2</tspan></tspan></text></g></g><g id="SvgjsG1398" transform="translate(535.9489511343139,301.6388744007447)"><path id="SvgjsPath1399" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1400"><text id="SvgjsText1401" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1402" dy="20" x="30"><tspan id="SvgjsTspan1403" style="text-decoration:;">h</tspan></tspan></text></g></g><g id="SvgjsG1404" transform="translate(440.6572946401733,301.6388744007447)"><path id="SvgjsPath1405" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1406"><text id="SvgjsText1407" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1408" dy="20" x="30"><tspan id="SvgjsTspan1409" style="text-decoration:;">h</tspan></tspan></text></g></g><g id="SvgjsG1410" transform="translate(25.00664344200584,214.63887440074473)"><path id="SvgjsPath1411" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1412"><text id="SvgjsText1413" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1414" dy="20" x="30"><tspan id="SvgjsTspan1415" style="text-decoration:;">h</tspan></tspan></text></g></g><g id="SvgjsG1416" transform="translate(127.92972036508286,301.6388744007447)"><path id="SvgjsPath1417" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1418"><text id="SvgjsText1419" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1420" dy="20" x="30"><tspan id="SvgjsTspan1421" style="text-decoration:;">h</tspan></tspan></text></g></g></svg></center>

```java
private static Node RR(Node imbalance) {
    Node balance = imbalance.right;
    imbalance.right = balance.left;
    balance.left = imbalance;
    imbalance.height = Math.max(height(imbalance.left), height(imbalance.right)) + 1;
    balance.height = Math.max(height(balance.left), height(balance.right)) + 1;
    return balance;
}
```

## 3.3 LR 旋转

<center><svg id="SvgjsSvg1422" width="100%" height="100%" viewBox="0 0 1300 400" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1423"><marker id="SvgjsMarker1438" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1439" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1622" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1623" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker></defs><g id="SvgjsG1424" transform="translate(498.60733619102996,172.2580636559992)"><path id="SvgjsPath1425" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1426"><text id="SvgjsText1427" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="700" font-style="" opacity="1" y="9" transform="rotate(0)"><tspan id="SvgjsTspan1428" dy="20" x="21"><tspan id="SvgjsTspan1429" style="text-decoration:;">B</tspan></tspan></text></g></g><g id="SvgjsG1430" transform="translate(629.7323361910296,30.414530373483103)"><path id="SvgjsPath1431" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1432"><text id="SvgjsText1433" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="700" font-style="" opacity="1" y="9" transform="rotate(0)"><tspan id="SvgjsTspan1434" dy="20" x="21"><tspan id="SvgjsTspan1435" style="text-decoration:;">A</tspan></tspan></text></g></g><g id="SvgjsG1436"><path id="SvgjsPath1437" d="M771.8671833029405 216.54535932918708L851.8671833029404 216.54535932918708L851.8671833029404 216.54535932918708L931.8671833029402 216.54535932918708" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1438)"></path></g><g id="SvgjsG1440" transform="translate(93.88458486703598,101.86109323212489)"><path id="SvgjsPath1441" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1442"><text id="SvgjsText1443" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="700" font-style="" opacity="1" y="9" transform="rotate(0)"><tspan id="SvgjsTspan1444" dy="20" x="21"><tspan id="SvgjsTspan1445" style="text-decoration:;">B</tspan></tspan></text></g></g><g id="SvgjsG1446" transform="translate(172.7307387131899,25.011787752446892)"><path id="SvgjsPath1447" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1448"><text id="SvgjsText1449" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="700" font-style="" opacity="1" y="9" transform="rotate(0)"><tspan id="SvgjsTspan1450" dy="20" x="21"><tspan id="SvgjsTspan1451" style="text-decoration:;">A</tspan></tspan></text></g></g><g id="SvgjsG1452" transform="translate(32.03843102088237,192.26461617707582)"><path id="SvgjsPath1453" d="M 28 0L 56 78L 0 78Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1454"><text id="SvgjsText1455" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="36.75" transform="rotate(0)"><tspan id="SvgjsTspan1456" dy="20" x="28"><tspan id="SvgjsTspan1457" style="text-decoration:;">BL</tspan></tspan></text></g></g><g id="SvgjsG1458" transform="translate(104.53843102088256,270.62018213516626)"><path id="SvgjsPath1459" d="M 28 0L 56 78L 0 78Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1460"><text id="SvgjsText1461" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="36.75" transform="rotate(0)"><tspan id="SvgjsTspan1462" dy="20" x="28"><tspan id="SvgjsTspan1463" style="text-decoration:;">CL</tspan></tspan></text></g></g><g id="SvgjsG1464" transform="translate(743.8116413107543,181.61513350337697)"><path id="SvgjsPath1465" d="M 0 0L 214.81897420816745 0L 214.81897420816745 25.858648660299025L 0 25.858648660299025Z" stroke="none" fill="none"></path><g id="SvgjsG1466"><text id="SvgjsText1467" font-family="微软雅黑" text-anchor="middle" font-size="20px" width="215px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="20px" weight="700" font-style="" opacity="1" y="-2.5706756698504876" transform="rotate(0)"><tspan id="SvgjsTspan1468" dy="25" x="107.5"><tspan id="SvgjsTspan1469" style="text-decoration:;">对结点A进行LL旋转</tspan></tspan></text></g></g><g id="SvgjsG1470" transform="translate(600.5656796968894,265.2174395141299)"><path id="SvgjsPath1471" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1472"><text id="SvgjsText1473" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1474" dy="20" x="30"><tspan id="SvgjsTspan1475" style="text-decoration:;">h - </tspan><tspan id="SvgjsTspan1476" style="text-decoration:;font-style: normal; font-weight: normal;">1</tspan></tspan></text></g></g><g id="SvgjsG1477" transform="translate(506.38458486703666,111.6714800583218)"><path id="SvgjsPath1478" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1479"><text id="SvgjsText1480" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1481" dy="20" x="30"><tspan id="SvgjsTspan1482" style="text-decoration:;">h + </tspan><tspan id="SvgjsTspan1483" style="text-decoration:;font-style: normal; font-weight: normal;">2</tspan></tspan></text></g></g><g id="SvgjsG1484" transform="translate(536.6489926851705,179.95037134830687)"><path id="SvgjsPath1485" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1486"><text id="SvgjsText1487" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1488" dy="20" x="30"><tspan id="SvgjsTspan1489" style="text-decoration:;">h + </tspan><tspan id="SvgjsTspan1490" style="text-decoration:;font-style: normal; font-weight: normal;">1</tspan></tspan></text></g></g><g id="SvgjsG1491" transform="translate(36.309259267952754,110.59683175964935)"><path id="SvgjsPath1492" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1493"><text id="SvgjsText1494" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1495" dy="20" x="30"><tspan id="SvgjsTspan1496" style="text-decoration:;">h + </tspan><tspan id="SvgjsTspan1497" style="text-decoration:;font-style: normal; font-weight: normal;">2</tspan></tspan></text></g></g><g id="SvgjsG1498" transform="translate(446.4262413611771,343.2174395141299)"><path id="SvgjsPath1499" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1500"><text id="SvgjsText1501" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1502" dy="20" x="30"><tspan id="SvgjsTspan1503" style="text-decoration:;">h</tspan></tspan></text></g></g><g id="SvgjsG1504" transform="translate(25.003164438099716,270.620182135166)"><path id="SvgjsPath1505" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1506"><text id="SvgjsText1507" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1508" dy="20" x="30"><tspan id="SvgjsTspan1509" style="text-decoration:;">h</tspan></tspan></text></g></g><g id="SvgjsG1510" transform="translate(227.03843102088211,109.61146157715896)"><path id="SvgjsPath1511" d="M 28 0L 56 78L 0 78Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1512"><text id="SvgjsText1513" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="36.75" transform="rotate(0)"><tspan id="SvgjsTspan1514" dy="20" x="28"><tspan id="SvgjsTspan1515" style="text-decoration:;">AR</tspan></tspan></text></g></g><g id="SvgjsG1516"><path id="SvgjsPath1517" d="M207.90341644731433 60.83494865295262L254.3435279357081 108.89235817554311" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1518"><path id="SvgjsPath1519" d="M176.75939251894567 60.087715235121976L129.09714317225777 106.25651561263692" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1520" transform="translate(149.2692002516514,187.61146157715893)"><path id="SvgjsPath1521" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1522"><text id="SvgjsText1523" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="700" font-style="" opacity="1" y="9" transform="rotate(0)"><tspan id="SvgjsTspan1524" dy="20" x="21"><tspan id="SvgjsTspan1525" style="text-decoration:;">C</tspan></tspan></text></g></g><g id="SvgjsG1526"><path id="SvgjsPath1527" d="M129.26781259419568 139.3184488014601L156.63257015243818 191.31352041910816" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1528"><path id="SvgjsPath1529" d="M99.52974108842517 138.79627043785916L60.63254212720405 191.4602331878566" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1530" transform="translate(184.53843102088248,270.62018213516626)"><path id="SvgjsPath1531" d="M 28 0L 56 78L 0 78Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1532"><text id="SvgjsText1533" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="36.75" transform="rotate(0)"><tspan id="SvgjsTspan1534" dy="20" x="28"><tspan id="SvgjsTspan1535" style="text-decoration:;">CR</tspan></tspan></text></g></g><g id="SvgjsG1536"><path id="SvgjsPath1537" d="M157.21887143886389 226.0094572066605L133.02252495161002 269.7451660974659" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1538"><path id="SvgjsPath1539" d="M184.6530132263539 224.98624506070934L212.0170080797456 269.7668837603546" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1540" transform="translate(561.2707977294906,102.64845123777653)"><path id="SvgjsPath1541" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1542"><text id="SvgjsText1543" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="700" font-style="" opacity="1" y="9" transform="rotate(0)"><tspan id="SvgjsTspan1544" dy="20" x="21"><tspan id="SvgjsTspan1545" style="text-decoration:;">C</tspan></tspan></text></g></g><g id="SvgjsG1546"><path id="SvgjsPath1547" d="M632.6774692538949 63.61398038531303L594.9442112908945 106.09080944105685" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1548" transform="translate(693.2707977294905,119.62958881357986)"><path id="SvgjsPath1549" d="M 28 0L 56 78L 0 78Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1550"><text id="SvgjsText1551" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="36.75" transform="rotate(0)"><tspan id="SvgjsTspan1552" dy="20" x="28"><tspan id="SvgjsTspan1553" style="text-decoration:;">AR</tspan></tspan></text></g></g><g id="SvgjsG1554"><path id="SvgjsPath1555" d="M669.8068664718323 62.88921226597705L720.5989704052666 118.88888101260412" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1556"><path id="SvgjsPath1557" d="M564.916363554503 137.11609756141596L532.9292386271828 175.70037857986262" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1558" transform="translate(447.8076617901131,265.21743951413004)"><path id="SvgjsPath1559" d="M 28 0L 56 78L 0 78Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1560"><text id="SvgjsText1561" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="36.75" transform="rotate(0)"><tspan id="SvgjsTspan1562" dy="20" x="28"><tspan id="SvgjsTspan1563" style="text-decoration:;">BL</tspan></tspan></text></g></g><g id="SvgjsG1564" transform="translate(540.6073361910297,265.21743951413)"><path id="SvgjsPath1565" d="M 28 0L 56 78L 0 78Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1566"><text id="SvgjsText1567" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="36.75" transform="rotate(0)"><tspan id="SvgjsTspan1568" dy="20" x="28"><tspan id="SvgjsTspan1569" style="text-decoration:;">CL</tspan></tspan></text></g></g><g id="SvgjsG1570"><path id="SvgjsPath1571" d="M501.06624620437844 204.61153460979165L476.1923566465575 264.29439570833034" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1572"><path id="SvgjsPath1573" d="M537.5872865336843 206.0016528025235L569.6560677531176 264.3411099631025" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1574" transform="translate(603.2707977294907,187.21743951412998)"><path id="SvgjsPath1575" d="M 28 0L 56 78L 0 78Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1576"><text id="SvgjsText1577" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="36.75" transform="rotate(0)"><tspan id="SvgjsTspan1578" dy="20" x="28"><tspan id="SvgjsTspan1579" style="text-decoration:;">CR</tspan></tspan></text></g></g><g id="SvgjsG1580"><path id="SvgjsPath1581" d="M597.5720189302134 138.93005753550844L630.6985029670429 186.39739152475687" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1582" transform="translate(99.61854905348429,348.6201821351662)"><path id="SvgjsPath1583" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1584"><text id="SvgjsText1585" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1586" dy="20" x="30"><tspan id="SvgjsTspan1587" style="text-decoration:;">h</tspan></tspan></text></g></g><g id="SvgjsG1588" transform="translate(181.96150794395908,348.6201821351662)"><path id="SvgjsPath1589" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1590"><text id="SvgjsText1591" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1592" dy="20" x="30"><tspan id="SvgjsTspan1593" style="text-decoration:;font-style: italic;">h </tspan><tspan id="SvgjsTspan1594" style="text-decoration:;">- 1</tspan></tspan></text></g></g><g id="SvgjsG1595" transform="translate(96.30925926795288,197.48212903298372)"><path id="SvgjsPath1596" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1597"><text id="SvgjsText1598" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1599" dy="20" x="30"><tspan id="SvgjsTspan1600" style="text-decoration:;">h + </tspan><tspan id="SvgjsTspan1601" style="text-decoration:;font-style: normal;">1</tspan></tspan></text></g></g><g id="SvgjsG1602" transform="translate(225.6281644380997,187.611461577159)"><path id="SvgjsPath1603" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1604"><text id="SvgjsText1605" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1606" dy="20" x="30"><tspan id="SvgjsTspan1607" style="text-decoration:;">h</tspan></tspan></text></g></g><g id="SvgjsG1608" transform="translate(540.6073361910301,343.2174395141299)"><path id="SvgjsPath1609" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1610"><text id="SvgjsText1611" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1612" dy="20" x="30"><tspan id="SvgjsTspan1613" style="text-decoration:;">h</tspan></tspan></text></g></g><g id="SvgjsG1614" transform="translate(693.3012413611771,197.42184840335574)"><path id="SvgjsPath1615" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1616"><text id="SvgjsText1617" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1618" dy="20" x="30"><tspan id="SvgjsTspan1619" style="text-decoration:;">h</tspan></tspan></text></g></g><g id="SvgjsG1620"><path id="SvgjsPath1621" d="M300.8333028157537 216.54535932918708L380.8333028157536 216.54535932918708L380.8333028157536 216.54535932918708L460.8333028157535 216.54535932918708" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1622)"></path></g><g id="SvgjsG1624" transform="translate(272.77776082356763,181.61513350337697)"><path id="SvgjsPath1625" d="M 0 0L 214.81897420816745 0L 214.81897420816745 25.858648660299025L 0 25.858648660299025Z" stroke="none" fill="none"></path><g id="SvgjsG1626"><text id="SvgjsText1627" font-family="微软雅黑" text-anchor="middle" font-size="20px" width="215px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="20px" weight="700" font-style="" opacity="1" y="-2.5706756698504876" transform="rotate(0)"><tspan id="SvgjsTspan1628" dy="25" x="107.5"><tspan id="SvgjsTspan1629" style="text-decoration:;">对结点B进行RR旋转</tspan></tspan></text></g></g><g id="SvgjsG1630" transform="translate(1068.6940581032566,64.94755033123701)"><path id="SvgjsPath1631" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1632"><text id="SvgjsText1633" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="700" font-style="" opacity="1" y="9" transform="rotate(0)"><tspan id="SvgjsTspan1634" dy="20" x="21"><tspan id="SvgjsTspan1635" style="text-decoration:;">C</tspan></tspan></text></g></g><g id="SvgjsG1636" transform="translate(988.6570105919458,145.41260877133374)"><path id="SvgjsPath1637" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1638"><text id="SvgjsText1639" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="700" font-style="" opacity="1" y="9" transform="rotate(0)"><tspan id="SvgjsTspan1640" dy="20" x="21"><tspan id="SvgjsTspan1641" style="text-decoration:;">B</tspan></tspan></text></g></g><g id="SvgjsG1642" transform="translate(1148.7311056145677,145.41260877133374)"><path id="SvgjsPath1643" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1644"><text id="SvgjsText1645" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="700" font-style="" opacity="1" y="9" transform="rotate(0)"><tspan id="SvgjsTspan1646" dy="20" x="21"><tspan id="SvgjsTspan1647" style="text-decoration:;">A</tspan></tspan></text></g></g><g id="SvgjsG1648"><path id="SvgjsPath1649" d="M1072.5847098967413 99.72133831347259L1023.6429909904402 149.7025326917043" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1650"><path id="SvgjsPath1651" d="M1105.1104203526 101.8022752043002L1154.94810699673 149.7250291854006" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1652" transform="translate(938.6366040601043,230.6844195563761)"><path id="SvgjsPath1653" d="M 28 0L 56 78L 0 78Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1654"><text id="SvgjsText1655" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="36.75" transform="rotate(0)"><tspan id="SvgjsTspan1656" dy="20" x="28"><tspan id="SvgjsTspan1657" style="text-decoration:;">BL</tspan></tspan></text></g></g><g id="SvgjsG1658" transform="translate(1027.9759259346195,230.6844195563761)"><path id="SvgjsPath1659" d="M 28 0L 56 78L 0 78Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1660"><text id="SvgjsText1661" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="36.75" transform="rotate(0)"><tspan id="SvgjsTspan1662" dy="20" x="28"><tspan id="SvgjsTspan1663" style="text-decoration:;">CL</tspan></tspan></text></g></g><g id="SvgjsG1664" transform="translate(1106.1013030085237,230.6844195563761)"><path id="SvgjsPath1665" d="M 28 0L 56 78L 0 78Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1666"><text id="SvgjsText1667" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="36.75" transform="rotate(0)"><tspan id="SvgjsTspan1668" dy="20" x="28"><tspan id="SvgjsTspan1669" style="text-decoration:;">CR</tspan></tspan></text></g></g><g id="SvgjsG1670" transform="translate(1189.0075108601195,230.6844195563761)"><path id="SvgjsPath1671" d="M 28 0L 56 78L 0 78Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1672"><text id="SvgjsText1673" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="36.75" transform="rotate(0)"><tspan id="SvgjsTspan1674" dy="20" x="28"><tspan id="SvgjsTspan1675" style="text-decoration:;">AR</tspan></tspan></text></g></g><g id="SvgjsG1676"><path id="SvgjsPath1677" d="M993.4550521953569 180.88693484558763L967.1107644353901 229.803981064198" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1678"><path id="SvgjsPath1679" d="M1024.1874134901395 182.75385910342226L1055.4232158061018 229.8510459823804" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1680"><path id="SvgjsPath1681" d="M1155.4483768557002 182.91331389980053L1134.5092834924071 229.7714289075903" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1682"><path id="SvgjsPath1683" d="M1184.617942149428 180.92043428188833L1216.4620137665947 229.84630684262208" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1684" transform="translate(938.6366040601042,308.6844195563759)"><path id="SvgjsPath1685" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1686"><text id="SvgjsText1687" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1688" dy="20" x="30"><tspan id="SvgjsTspan1689" style="text-decoration:;">h</tspan></tspan></text></g></g><g id="SvgjsG1690" transform="translate(1030.6570105919457,308.68441955637616)"><path id="SvgjsPath1691" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1692"><text id="SvgjsText1693" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1694" dy="20" x="30"><tspan id="SvgjsTspan1695" style="text-decoration:;">h</tspan></tspan></text></g></g><g id="SvgjsG1696" transform="translate(1189.00751086012,308.68441955637604)"><path id="SvgjsPath1697" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1698"><text id="SvgjsText1699" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1700" dy="20" x="30"><tspan id="SvgjsTspan1701" style="text-decoration:;">h</tspan></tspan></text></g></g><g id="SvgjsG1702" transform="translate(1105.5656796968885,308.68441955637616)"><path id="SvgjsPath1703" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1704"><text id="SvgjsText1705" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1706" dy="20" x="30"><tspan id="SvgjsTspan1707" style="text-decoration:;">h - </tspan><tspan id="SvgjsTspan1708" style="text-decoration:;font-style: normal; font-weight: normal;">1</tspan></tspan></text></g></g><g id="SvgjsG1709" transform="translate(936.6574323071745,154.1483472988584)"><path id="SvgjsPath1710" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1711"><text id="SvgjsText1712" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1713" dy="20" x="30"><tspan id="SvgjsTspan1714" style="text-decoration:;">h + </tspan><tspan id="SvgjsTspan1715" style="text-decoration:;font-style: normal; font-weight: normal;">1</tspan></tspan></text></g></g><g id="SvgjsG1716" transform="translate(1094.6574323071732,154.14834729885834)"><path id="SvgjsPath1717" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1718"><text id="SvgjsText1719" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1720" dy="20" x="30"><tspan id="SvgjsTspan1721" style="text-decoration:;">h + </tspan><tspan id="SvgjsTspan1722" style="text-decoration:;font-style: normal; font-weight: normal;">1</tspan></tspan></text></g></g></svg></center>

```java
private static Node LR(Node imbalance) {
    imbalance.left = RR(imbalance.left);
    return LL(imbalance);
}
```

## 3.4 RL 旋转

<center><svg id="SvgjsSvg1723" width="100%" height="100%" viewBox="0 0 1300 450" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1724"><marker id="SvgjsMarker1739" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1740" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1869" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1870" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker></defs><g id="SvgjsG1725" transform="translate(695.1315931395768,234.95651212216228)"><path id="SvgjsPath1726" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1727"><text id="SvgjsText1728" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="700" font-style="" opacity="1" y="9" transform="rotate(0)"><tspan id="SvgjsTspan1729" dy="20" x="21"><tspan id="SvgjsTspan1730" style="text-decoration:;">B</tspan></tspan></text></g></g><g id="SvgjsG1731" transform="translate(532.1315241015564,25.010106248773354)"><path id="SvgjsPath1732" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1733"><text id="SvgjsText1734" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="700" font-style="" opacity="1" y="9" transform="rotate(0)"><tspan id="SvgjsTspan1735" dy="20" x="21"><tspan id="SvgjsTspan1736" style="text-decoration:;">A</tspan></tspan></text></g></g><g id="SvgjsG1737"><path id="SvgjsPath1738" d="M767.2292797070803 250.64093520447727L847.2292797070805 250.64093520447727L847.2292797070805 250.64093520447727L927.2292797070807 250.64093520447727" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1739)"></path></g><g id="SvgjsG1741" transform="translate(70.61456298828017,323.2157580104565)"><path id="SvgjsPath1742" d="M 28 0L 56 78L 0 78Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1743"><text id="SvgjsText1744" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="36.75" transform="rotate(0)"><tspan id="SvgjsTspan1745" dy="20" x="28"><tspan id="SvgjsTspan1746" style="text-decoration:;">CL</tspan></tspan></text></g></g><g id="SvgjsG1747" transform="translate(739.1737377148942,215.71070937866727)"><path id="SvgjsPath1748" d="M 0 0L 214.81897420816745 0L 214.81897420816745 25.858648660299025L 0 25.858648660299025Z" stroke="none" fill="none"></path><g id="SvgjsG1749"><text id="SvgjsText1750" font-family="微软雅黑" text-anchor="middle" font-size="20px" width="215px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="20px" weight="700" font-style="" opacity="1" y="-2.5706756698504876" transform="rotate(0)"><tspan id="SvgjsTspan1751" dy="25" x="107.5"><tspan id="SvgjsTspan1752" style="text-decoration:;">对结点A进行RR旋转</tspan></tspan></text></g></g><g id="SvgjsG1753" transform="translate(648.173249633717,416.81301538942034)"><path id="SvgjsPath1754" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1755"><text id="SvgjsText1756" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1757" dy="20" x="30"><tspan id="SvgjsTspan1758" style="text-decoration:;">h - </tspan><tspan id="SvgjsTspan1759" style="text-decoration:;font-style: normal; font-weight: normal;">1</tspan></tspan></text></g></g><g id="SvgjsG1760" transform="translate(552.1524213866468,131.09786346186308)"><path id="SvgjsPath1761" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1762"><text id="SvgjsText1763" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1764" dy="20" x="30"><tspan id="SvgjsTspan1765" style="text-decoration:;">h + </tspan><tspan id="SvgjsTspan1766" style="text-decoration:;font-style: normal; font-weight: normal;">2</tspan></tspan></text></g></g><g id="SvgjsG1767" transform="translate(641.173249633717,245.02029000701282)"><path id="SvgjsPath1768" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1769"><text id="SvgjsText1770" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1771" dy="20" x="30"><tspan id="SvgjsTspan1772" style="text-decoration:;">h + </tspan><tspan id="SvgjsTspan1773" style="text-decoration:;font-style: normal; font-weight: normal;">1</tspan></tspan></text></g></g><g id="SvgjsG1774" transform="translate(126.61456298828017,140.26705593361203)"><path id="SvgjsPath1775" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1776"><text id="SvgjsText1777" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1778" dy="20" x="30"><tspan id="SvgjsTspan1779" style="text-decoration:;">h + </tspan><tspan id="SvgjsTspan1780" style="text-decoration:;font-style: normal; font-weight: normal;">2</tspan></tspan></text></g></g><g id="SvgjsG1781" transform="translate(550.173249633717,314.2844924444695)"><path id="SvgjsPath1782" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1783"><text id="SvgjsText1784" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1785" dy="20" x="30"><tspan id="SvgjsTspan1786" style="text-decoration:;">h</tspan></tspan></text></g></g><g id="SvgjsG1787" transform="translate(230.61456298828003,304.2157580104563)"><path id="SvgjsPath1788" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1789"><text id="SvgjsText1790" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1791" dy="20" x="30"><tspan id="SvgjsTspan1792" style="text-decoration:;">h</tspan></tspan></text></g></g><g id="SvgjsG1793" transform="translate(150.61456298828008,323.2157580104565)"><path id="SvgjsPath1794" d="M 28 0L 56 78L 0 78Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1795"><text id="SvgjsText1796" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="36.75" transform="rotate(0)"><tspan id="SvgjsTspan1797" dy="20" x="28"><tspan id="SvgjsTspan1798" style="text-decoration:;">CR</tspan></tspan></text></g></g><g id="SvgjsG1799" transform="translate(610.1315931395764,121.99138168720322)"><path id="SvgjsPath1800" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1801"><text id="SvgjsText1802" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="700" font-style="" opacity="1" y="9" transform="rotate(0)"><tspan id="SvgjsTspan1803" dy="20" x="21"><tspan id="SvgjsTspan1804" style="text-decoration:;">C</tspan></tspan></text></g></g><g id="SvgjsG1805" transform="translate(462.25659313957624,131.0978634618632)"><path id="SvgjsPath1806" d="M 28 0L 56 78L 0 78Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1807"><text id="SvgjsText1808" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="36.75" transform="rotate(0)"><tspan id="SvgjsTspan1809" dy="20" x="28"><tspan id="SvgjsTspan1810" style="text-decoration:;">AL</tspan></tspan></text></g></g><g id="SvgjsG1811" transform="translate(727.3319187386597,338.81301538942034)"><path id="SvgjsPath1812" d="M 28 0L 56 78L 0 78Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1813"><text id="SvgjsText1814" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="36.75" transform="rotate(0)"><tspan id="SvgjsTspan1815" dy="20" x="28"><tspan id="SvgjsTspan1816" style="text-decoration:;">BR</tspan></tspan></text></g></g><g id="SvgjsG1817" transform="translate(554.1315931395764,234.95651212216228)"><path id="SvgjsPath1818" d="M 28 0L 56 78L 0 78Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1819"><text id="SvgjsText1820" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="36.75" transform="rotate(0)"><tspan id="SvgjsTspan1821" dy="20" x="28"><tspan id="SvgjsTspan1822" style="text-decoration:;">CL</tspan></tspan></text></g></g><g id="SvgjsG1823" transform="translate(652.1315931395764,338.81301538942034)"><path id="SvgjsPath1824" d="M 28 0L 56 78L 0 78Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1825"><text id="SvgjsText1826" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="36.75" transform="rotate(0)"><tspan id="SvgjsTspan1827" dy="20" x="28"><tspan id="SvgjsTspan1828" style="text-decoration:;">CR</tspan></tspan></text></g></g><g id="SvgjsG1829" transform="translate(67.65462200458106,401.2157580104565)"><path id="SvgjsPath1830" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1831"><text id="SvgjsText1832" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1833" dy="20" x="30"><tspan id="SvgjsTspan1834" style="text-decoration:;">h</tspan></tspan></text></g></g><g id="SvgjsG1835" transform="translate(148.03763991135654,401.2157580104565)"><path id="SvgjsPath1836" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1837"><text id="SvgjsText1838" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1839" dy="20" x="30"><tspan id="SvgjsTspan1840" style="text-decoration:;font-style: italic;">h </tspan><tspan id="SvgjsTspan1841" style="text-decoration:;">- 1</tspan></tspan></text></g></g><g id="SvgjsG1842" transform="translate(158.69468102088254,236.10927623579653)"><path id="SvgjsPath1843" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1844"><text id="SvgjsText1845" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1846" dy="20" x="30"><tspan id="SvgjsTspan1847" style="text-decoration:;">h + </tspan><tspan id="SvgjsTspan1848" style="text-decoration:;font-style: normal;">1</tspan></tspan></text></g></g><g id="SvgjsG1849" transform="translate(25.01358619102936,217.20703745244919)"><path id="SvgjsPath1850" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1851"><text id="SvgjsText1852" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1853" dy="20" x="30"><tspan id="SvgjsTspan1854" style="text-decoration:;">h</tspan></tspan></text></g></g><g id="SvgjsG1855" transform="translate(727.3319187386597,416.81301538942046)"><path id="SvgjsPath1856" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1857"><text id="SvgjsText1858" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1859" dy="20" x="30"><tspan id="SvgjsTspan1860" style="text-decoration:;">h</tspan></tspan></text></g></g><g id="SvgjsG1861" transform="translate(459.15883164305706,210.42798917721143)"><path id="SvgjsPath1862" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1863"><text id="SvgjsText1864" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1865" dy="20" x="30"><tspan id="SvgjsTspan1866" style="text-decoration:;">h</tspan></tspan></text></g></g><g id="SvgjsG1867"><path id="SvgjsPath1868" d="M295.5119239567005 250.6409352044774L375.51192395670046 250.6409352044774L375.51192395670046 250.6409352044774L455.51192395670034 250.6409352044774" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1869)"></path></g><g id="SvgjsG1871" transform="translate(267.4563819645145,215.71070937866727)"><path id="SvgjsPath1872" d="M 0 0L 214.81897420816745 0L 214.81897420816745 25.858648660299025L 0 25.858648660299025Z" stroke="none" fill="none"></path><g id="SvgjsG1873"><text id="SvgjsText1874" font-family="微软雅黑" text-anchor="middle" font-size="20px" width="215px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="20px" weight="700" font-style="" opacity="1" y="-2.5706756698504876" transform="rotate(0)"><tspan id="SvgjsTspan1875" dy="25" x="107.5"><tspan id="SvgjsTspan1876" style="text-decoration:;">对结点B进行LL旋转</tspan></tspan></text></g></g><g id="SvgjsG1877" transform="translate(1057.6440742081566,93.61422433198663)"><path id="SvgjsPath1878" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1879"><text id="SvgjsText1880" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="700" font-style="" opacity="1" y="9" transform="rotate(0)"><tspan id="SvgjsTspan1881" dy="20" x="21"><tspan id="SvgjsTspan1882" style="text-decoration:;">C</tspan></tspan></text></g></g><g id="SvgjsG1883" transform="translate(1139.8157766591435,170.17846175319653)"><path id="SvgjsPath1884" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1885"><text id="SvgjsText1886" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="700" font-style="" opacity="1" y="9" transform="rotate(0)"><tspan id="SvgjsTspan1887" dy="20" x="21"><tspan id="SvgjsTspan1888" style="text-decoration:;">B</tspan></tspan></text></g></g><g id="SvgjsG1889" transform="translate(975.4723717571691,170.17846175319653)"><path id="SvgjsPath1890" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1891"><text id="SvgjsText1892" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="700" font-style="" opacity="1" y="9" transform="rotate(0)"><tspan id="SvgjsTspan1893" dy="20" x="21"><tspan id="SvgjsTspan1894" style="text-decoration:;">A</tspan></tspan></text></g></g><g id="SvgjsG1895" transform="translate(1169.8432785571856,270.20889730620684)"><path id="SvgjsPath1896" d="M 28 0L 56 78L 0 78Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1897"><text id="SvgjsText1898" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="36.75" transform="rotate(0)"><tspan id="SvgjsTspan1899" dy="20" x="28"><tspan id="SvgjsTspan1900" style="text-decoration:;">BR</tspan></tspan></text></g></g><g id="SvgjsG1901" transform="translate(1009.5136065360816,270.20889730620695)"><path id="SvgjsPath1902" d="M 28 0L 56 78L 0 78Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1903"><text id="SvgjsText1904" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="36.75" transform="rotate(0)"><tspan id="SvgjsTspan1905" dy="20" x="28"><tspan id="SvgjsTspan1906" style="text-decoration:;">CL</tspan></tspan></text></g></g><g id="SvgjsG1907" transform="translate(1097.8533501258262,270.20889730620684)"><path id="SvgjsPath1908" d="M 28 0L 56 78L 0 78Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1909"><text id="SvgjsText1910" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="36.75" transform="rotate(0)"><tspan id="SvgjsTspan1911" dy="20" x="28"><tspan id="SvgjsTspan1912" style="text-decoration:;">CR</tspan></tspan></text></g></g><g id="SvgjsG1913" transform="translate(934.5072856627434,270.20889730620695)"><path id="SvgjsPath1914" d="M 28 0L 56 78L 0 78Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1915"><text id="SvgjsText1916" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="36.75" transform="rotate(0)"><tspan id="SvgjsTspan1917" dy="20" x="28"><tspan id="SvgjsTspan1918" style="text-decoration:;">AL</tspan></tspan></text></g></g><g id="SvgjsG1919" transform="translate(929.211515573353,348.20889730620695)"><path id="SvgjsPath1920" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1921"><text id="SvgjsText1922" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1923" dy="20" x="30"><tspan id="SvgjsTspan1924" style="text-decoration:;">h</tspan></tspan></text></g></g><g id="SvgjsG1925" transform="translate(1007.5344347831523,348.20889730620706)"><path id="SvgjsPath1926" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1927"><text id="SvgjsText1928" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1929" dy="20" x="30"><tspan id="SvgjsTspan1930" style="text-decoration:;">h</tspan></tspan></text></g></g><g id="SvgjsG1931" transform="translate(1168.3849350513265,348.20889730620684)"><path id="SvgjsPath1932" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1933"><text id="SvgjsText1934" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1935" dy="20" x="30"><tspan id="SvgjsTspan1936" style="text-decoration:;">h</tspan></tspan></text></g></g><g id="SvgjsG1937" transform="translate(1099.644074208157,348.20889730620684)"><path id="SvgjsPath1938" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1939"><text id="SvgjsText1940" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1941" dy="20" x="30"><tspan id="SvgjsTspan1942" style="text-decoration:;">h - </tspan><tspan id="SvgjsTspan1943" style="text-decoration:;font-style: normal; font-weight: normal;">1</tspan></tspan></text></g></g><g id="SvgjsG1944" transform="translate(914.3681898317124,178.91420028072127)"><path id="SvgjsPath1945" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1946"><text id="SvgjsText1947" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1948" dy="20" x="30"><tspan id="SvgjsTspan1949" style="text-decoration:;">h + </tspan><tspan id="SvgjsTspan1950" style="text-decoration:;font-style: normal; font-weight: normal;">1</tspan></tspan></text></g></g><g id="SvgjsG1951" transform="translate(1087.3681898317122,178.91420028072093)"><path id="SvgjsPath1952" d="M 0 0L 59.958343505859375 0L 59.958343505859375 24.528522944950964L 0 24.528522944950964Z" stroke="none" fill="none"></path><g id="SvgjsG1953"><text id="SvgjsText1954" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="60px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="400" font-style="italic" opacity="1" y="0.26426147247548215" transform="rotate(0)"><tspan id="SvgjsTspan1955" dy="20" x="30"><tspan id="SvgjsTspan1956" style="text-decoration:;">h + </tspan><tspan id="SvgjsTspan1957" style="text-decoration:;font-style: normal; font-weight: normal;">1</tspan></tspan></text></g></g><g id="SvgjsG1958" transform="translate(102.92385277381214,40.607363627737186)"><path id="SvgjsPath1959" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1960"><text id="SvgjsText1961" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="700" font-style="" opacity="1" y="9" transform="rotate(0)"><tspan id="SvgjsTspan1962" dy="20" x="21"><tspan id="SvgjsTspan1963" style="text-decoration:;">A</tspan></tspan></text></g></g><g id="SvgjsG1964" transform="translate(184.6946810208825,131.5313174060875)"><path id="SvgjsPath1965" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1966"><text id="SvgjsText1967" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="700" font-style="" opacity="1" y="9" transform="rotate(0)"><tspan id="SvgjsTspan1968" dy="20" x="21"><tspan id="SvgjsTspan1969" style="text-decoration:;">B</tspan></tspan></text></g></g><g id="SvgjsG1970"><path id="SvgjsPath1971" d="M137.9307650760837 78.12783724115627L189.71866187591974 136.98105898093127" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1972" transform="translate(118.30527320274811,225.20703745244919)"><path id="SvgjsPath1973" d="M 0 21C 0 -7 42 -7 42 21C 42 49 0 49 0 21Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1974"><text id="SvgjsText1975" font-family="&quot;Times New Roman&quot;" text-anchor="middle" font-size="16px" width="22px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="&quot;Times New Roman&quot;" size="16px" weight="700" font-style="" opacity="1" y="9" transform="rotate(0)"><tspan id="SvgjsTspan1976" dy="20" x="21"><tspan id="SvgjsTspan1977" style="text-decoration:;">C</tspan></tspan></text></g></g><g id="SvgjsG1978"><path id="SvgjsPath1979" d="M190.59760915412113 168.76103712685835L152.24201748307487 228.47618939998915" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1980" transform="translate(27.96231431227332,137.20703745244919)"><path id="SvgjsPath1981" d="M 28 0L 56 78L 0 78Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1982"><text id="SvgjsText1983" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="36.75" transform="rotate(0)"><tspan id="SvgjsTspan1984" dy="20" x="28"><tspan id="SvgjsTspan1985" style="text-decoration:;">AL</tspan></tspan></text></g></g><g id="SvgjsG1986"><path id="SvgjsPath1987" d="M106.50213145357037 74.44304384266945L56.58949281928693 136.42816190376368" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1988" transform="translate(232.42385277381211,225.20703745244919)"><path id="SvgjsPath1989" d="M 28 0L 56 78L 0 78Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1990"><text id="SvgjsText1991" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="36px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="36.75" transform="rotate(0)"><tspan id="SvgjsTspan1992" dy="20" x="28"><tspan id="SvgjsTspan1993" style="text-decoration:;">BR</tspan></tspan></text></g></g><g id="SvgjsG1994"><path id="SvgjsPath1995" d="M219.78175370979025 168.24425433225827L259.8430461955462 224.39299585729384" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1996"><path id="SvgjsPath1997" d="M124.45550347413081 261.875957993234L99.00279425536027 322.29419603030465" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG1998"><path id="SvgjsPath1999" d="M155.4207735633425 259.7150150132528L178.27147972302956 322.27645301573705" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG2000"><path id="SvgjsPath2001" d="M539.0701321065741 63.070086348365294L490.8395877740656 130.28538745842877" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG2002"><path id="SvgjsPath2003" d="M568.6254982058447 61.114798584355526L614.2859643976263 129.65741693945733" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG2004"><path id="SvgjsPath2005" d="M616.6558863307815 159.6221359090597L582.5482083332822 234.04742918844636" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG2006"><path id="SvgjsPath2007" d="M645.6785918825299 159.0632305812212L699.4311644886567 242.15004728065924" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG2008"><path id="SvgjsPath2009" d="M700.1447396211793 269.18470431249887L680.4078369071669 337.8519277863022" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG2010"><path id="SvgjsPath2011" d="M731.4048093270976 271.2252264998276L754.9981984094588 337.8703432609059" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG2012"><path id="SvgjsPath2013" d="M1064.1599476829895 131.15041965531668L1012.3883295790708 176.32338949115592" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG2014"><path id="SvgjsPath2015" d="M1095.674295183308 128.50658014157943L1146.296100191364 174.44890027754275" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG2016"><path id="SvgjsPath2017" d="M980.7030074374508 206.10007187368137L962.7803265207278 269.2468948686469" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG2018"><path id="SvgjsPath2019" d="M1010.3555698105934 206.3068465317507L1037.1224699805625 269.28856465170827" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG2020"><path id="SvgjsPath2021" d="M1145.6664964814763 207.39511846931816L1126.1541669260264 269.2552153609456" stroke="#323232" stroke-width="2" fill="none"></path></g><g id="SvgjsG2022"><path id="SvgjsPath2023" d="M1176.0539356913787 205.8153809355499L1197.5227534662022 269.26165728063256" stroke="#323232" stroke-width="2" fill="none"></path></g></svg></center>

```java
private static Node RL(Node imbalance) {
    imbalance.right = LL(imbalance.right);
    return RR(imbalance);
}
```

# 4. 平衡二叉树的插入

```java
public void insert(int key) {
    root = insert(root, key);
}

private static Node insert(Node root, int key) {
    if (root == null) {
        root = new Node(key);
    } else {
        if (key < root.data) {
            root.left = insert(root.left, key);
            if (height(root.left) - height(root.right) == 2) {
                root = key < root.left.data ? LL(root) : LR(root);
            }
        } else if (key > root.data) {
            root.right = insert(root.right, key);
            if (height(root.right) - height(root.left) == 2) {
                root = key < root.right.data ? RL(root) : RR(root);
            }
        } else {
            System.out.println("元素 " + key + " 插入失败");
        }
    }
    root.height = Math.max(height(root.left), height(root.right)) + 1;
    return root;
}
```

# 5. 平衡二叉树的删除

```java
public void remove(int key) {
    root = remove(root, key);
}

private static Node remove(Node root, int key) {
    if (root == null) {
        System.out.println("平衡二叉树空，无法删除！");
    } else {
        if (key < root.data) {
            root.left = remove(root.left, key);
            if (height(root.right) - height(root.left) == 2) {
                Node right = root.right;
                root = height(right.left) > height(right.right) ? RL(root) : RR(root);
            }
        } else if (key > root.data) {
            root.right = remove(root.right, key);
            if (height(root.left) - height(root.right) == 2) {
                Node left = root.left;
                root = height(left.left) > height(left.right) ? LL(root) : LR(root);
            }
        } else {
            if (root.left != null && root.right != null) {
                if (height(root.left) > height(root.right)) {
                    Node predecessor = predecessor(root);
                    root.data = predecessor.data;
                    root.left = remove(root.left, predecessor.data);
                } else {
                    Node successor = successor(root);
                    root.data = successor.data;
                    root.right = remove(root.right, successor.data);
                }
            } else {
                Node temp = root;
                root = root.left == null ? root.right : root.left;
            }
        }
    }
    return root;
}

// 查找以该结点为根的左子树中的最大结点
private static Node predecessor(Node node) {
    if (node.left == null) {
        return null;
    }
    node = node.left;
    while (node.right != null) {
        node = node.right;
    }
    return node;
}

// 查找以该结点为根的右子树中的最小结点
private static Node successor(Node node) {
    if (node.right == null) {
        return null;
    }
    node = node.right;
    while (node.left != null) {
        node = node.left;
    }
    return node;
}
```

# 6. 完整代码

输出结果：

```java
元素 23 插入失败
            45           
         /     \         
      17          65     
    /   \       /   \    
  9       23  53      78 
                       \ 
                        87
========================================
            45           
         /     \         
      17          65     
    /           /   \    
  9           53      78 
                       \ 
                        87
========================================
      65     
    /   \    
  45      78 
 / \       \ 
9   53      87
```

源码：

```java
package com.ice.avl;

import java.util.ArrayDeque;
import java.util.Deque;
import java.util.StringJoiner;
import java.util.function.Consumer;

/**
 * @author ice
 * @blog https://yilei.space
 * @description
 * @create 2022-02-24 15:55:11
 */
public class AVL {

    public static void main(String[] args) {
        AVL tree = new AVL();
        tree.insert(53);
        tree.insert(17);
        tree.insert(9);
        tree.insert(45);
        tree.insert(23);
        tree.insert(23);
        tree.insert(78);
        tree.insert(65);
        tree.insert(87);
        show(tree.getRoot());
        System.out.println("========================================");
        tree.remove(23);
        show(tree.getRoot());
        System.out.println("========================================");
        tree.remove(17);
        show(tree.getRoot());

    }

    private Node root;

    public Node getRoot() {
        return root;
    }

    public void inOrder(Consumer<Node> consumer) {
        if (root == null) return;
        Node node = root;
        Deque<Node> deque = new ArrayDeque<>();
        while (node != null || !deque.isEmpty()) {
            while (node != null) {
                deque.push(node);
                node = node.left;
            }
            node = deque.pop();
            consumer.accept(node);
            node = node.right;
        }
    }

    public Node search(int key) {
        Node node = root;
        while (node != null && node.data != key) {
            node = key < node.data ? node.left : node.right;
        }
        return node;
    }

    public void remove(int key) {
        root = remove(root, key);
    }

    private static Node remove(Node root, int key) {
        if (root == null) {
            System.out.println("平衡二叉树空，无法删除！");
        } else {
            if (key < root.data) {
                root.left = remove(root.left, key);
                if (height(root.right) - height(root.left) == 2) {
                    Node right = root.right;
                    root = height(right.left) > height(right.right) ? RL(root) : RR(root);
                }
            } else if (key > root.data) {
                root.right = remove(root.right, key);
                if (height(root.left) - height(root.right) == 2) {
                    Node left = root.left;
                    root = height(left.left) > height(left.right) ? LL(root) : LR(root);
                }
            } else {
                if (root.left != null && root.right != null) {
                    if (height(root.left) > height(root.right)) {
                        Node predecessor = predecessor(root);
                        root.data = predecessor.data;
                        root.left = remove(root.left, predecessor.data);
                    } else {
                        Node successor = successor(root);
                        root.data = successor.data;
                        root.right = remove(root.right, successor.data);
                    }
                } else {
                    Node temp = root;
                    root = root.left == null ? root.right : root.left;
                }
            }
        }
        return root;
    }

    // 查找以该结点为根的左子树中的最大结点
    private static Node predecessor(Node node) {
        if (node.left == null) {
            return null;
        }
        node = node.left;
        while (node.right != null) {
            node = node.right;
        }
        return node;
    }

    // 查找以该结点为根的右子树中的最小结点
    private static Node successor(Node node) {
        if (node.right == null) {
            return null;
        }
        node = node.right;
        while (node.left != null) {
            node = node.left;
        }
        return node;
    }

    public void insert(int key) {
        root = insert(root, key);
    }

    private static Node insert(Node root, int key) {
        if (root == null) {
            root = new Node(key);
        } else {
            if (key < root.data) {
                root.left = insert(root.left, key);
                if (height(root.left) - height(root.right) == 2) {
                    root = key < root.left.data ? LL(root) : LR(root);
                }
            } else if (key > root.data) {
                root.right = insert(root.right, key);
                if (height(root.right) - height(root.left) == 2) {
                    root = key < root.right.data ? RL(root) : RR(root);
                }
            } else {
                System.out.println("元素 " + key + " 插入失败");
            }
        }
        root.height = Math.max(height(root.left), height(root.right)) + 1;
        return root;
    }

    private static int height(Node node) {
        return node == null ? 0 : node.height;
    }


    private static Node LL(Node imbalance) {
        Node balance = imbalance.left;
        imbalance.left = balance.right;
        balance.right = imbalance;
        imbalance.height = Math.max(height(imbalance.left), height(imbalance.right)) + 1;
        balance.height = Math.max(height(balance.left), height(balance.right)) + 1;
        return balance;
    }

    private static Node RR(Node imbalance) {
        Node balance = imbalance.right;
        imbalance.right = balance.left;
        balance.left = imbalance;
        imbalance.height = Math.max(height(imbalance.left), height(imbalance.right)) + 1;
        balance.height = Math.max(height(balance.left), height(balance.right)) + 1;
        return balance;
    }

    private static Node LR(Node imbalance) {
        imbalance.left = RR(imbalance.left);
        return LL(imbalance);
    }

    private static Node RL(Node imbalance) {
        imbalance.right = LL(imbalance.right);
        return RR(imbalance);
    }


    private static class Node implements Comparable<Node> {
        public int data;
        public int height;
        public Node left;
        public Node right;

        public Node(int data) {
            this(data, null, null);
        }

        @Override
        public String toString() {
            return new StringJoiner(", ", Node.class.getSimpleName() + "[", "]")
                    .add("data=" + data)
                    .toString();
        }

        public Node(int data, Node left, Node right) {
            this.data = data;
            this.left = left;
            this.right = right;
            this.height = 0;
        }

        @Override
        public int compareTo(Node node) {
            return data - node.data;
        }
    }

    // 用于获得树的层数
    public static int getTreeDepth(Node root) {
        return root == null ? 0 : (1 + Math.max(getTreeDepth(root.left), getTreeDepth(root.right)));
    }

    private static void writeArray(Node currNode, int rowIndex, int columnIndex, String[][] res, int treeDepth) {
        // 保证输入的树不为空
        if (currNode == null) return;
        // 先将当前结点保存到二维数组中
        res[rowIndex][columnIndex] = String.valueOf(currNode.data);

        // 计算当前位于树的第几层
        int currLevel = (rowIndex + 1) / 2;
        // 若到了最后一层，则返回
        if (currLevel == treeDepth) return;
        // 计算当前行到下一行，每个元素之间的间隔（下一行的列索引与当前元素的列索引之间的间隔）
        int gap = treeDepth - currLevel - 1;

        // 对左儿子进行判断，若有左儿子，则记录相应的"/"与左儿子的值
        if (currNode.left != null) {
            res[rowIndex + 1][columnIndex - gap] = "/";
            writeArray(currNode.left, rowIndex + 2, columnIndex - gap * 2, res, treeDepth);
        }

        // 对右儿子进行判断，若有右儿子，则记录相应的"\"与右儿子的值
        if (currNode.right != null) {
            res[rowIndex + 1][columnIndex + gap] = "\\";
            writeArray(currNode.right, rowIndex + 2, columnIndex + gap * 2, res, treeDepth);
        }
    }

    /*
    树的结构示例：
              1
            /   \
          2       3
         / \     / \
        4   5   6   7
    */
    public static void show(Node root) {
        if (root == null) System.out.println("EMPTY!");
        // 得到树的深度
        int treeDepth = getTreeDepth(root);

        // 最后一行的宽度为2的（n - 1）次方乘3，再加1
        // 作为整个二维数组的宽度
        int arrayHeight = treeDepth * 2 - 1;
        int arrayWidth = (2 << (treeDepth - 2)) * 3 + 1;
        // 用一个字符串数组来存储每个位置应显示的元素
        String[][] res = new String[arrayHeight][arrayWidth];
        // 对数组进行初始化，默认为一个空格
        for (int i = 0; i < arrayHeight; i++) {
            for (int j = 0; j < arrayWidth; j++) {
                res[i][j] = " ";
            }
        }

        // 从根结点开始，递归处理整个树
        // res[0][(arrayWidth + 1)/ 2] = (char)(root.val + '0');
        writeArray(root, 0, arrayWidth / 2, res, treeDepth);

        // 此时，已经将所有需要显示的元素储存到了二维数组中，将其拼接并打印即可
        for (String[] line : res) {
            StringBuilder sb = new StringBuilder();
            for (int i = 0; i < line.length; i++) {
                sb.append(line[i]);
                if (line[i].length() > 1 && i <= line.length - 1) {
                    i += line[i].length() > 4 ? 2 : line[i].length() - 1;
                }
            }
            System.out.println(sb);
        }
    }
}
```

