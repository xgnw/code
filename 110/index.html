<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
<meta name="keywords" content="熊猫书签,Panda Bookmark" />
<meta name="description" content="熊猫书签,Panda Bookmark" />
<link rel="icon" href="data:," />
<title>熊猫书签</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;max-width:100%;vertical-align:top;}
body{margin:32px auto;width:720px;border:1px solid #666;font-size:14px;line-height:26px;word-wrap:break-word;word-break:break-all;}
a{color:#000;text-decoration:none;}
input{margin:6px 0;padding:4px;width:100%;height:30px;}
#expanda{text-align:center;}
#expanda a{color:#CE0000;}
.chart{padding:0;font-size:0;line-height:26px;text-align:center;border:0;}
.chart a{display:inline-block;width:calc(100% / 3);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;}
div,.chart a{padding:2px 8px 4px 8px;border:1px solid #666;}
</style>
</head>
<body>
<div id="expanda" style="display:none;">
<a href="https://exhentai.org/favicon.ico"><b>进入里站</b></a>
</div>
<div class="chart">
<a id="button_monkey" href="javascript:;" onclick="setup('monkey');">油猴</a>
<a id="button_signup" href="javascript:;" onclick="setup('signup');">熊猫书签</a>
<a id="button_origin" href="javascript:;" onclick="setup('origin');">传统</a>
</div>
<span id="signup">
<div>
<b>[密钥绑定]</b><br />
<input id="exkey" placeholder="公共账号已作废，请使用私人账号。" oninput="check(this.value);" /><br />
</div>
<div>
<b>[账号注册]</b><br />
注册地址：<a href="https://forums.e-hentai.org/?act=Reg" target="_blank"><u>https://forums.e-hentai.org/?act=Reg</u></a><br />
中国大陆无法访问，需挂载拥有<b>私人IP</b>的<b>欧美V:P!И</b>，不能多人共用同IP。<br />
使用<b>亚洲IP</b>注册的账户，也无法获得里区权限。V:P!И务必选用<b>欧美</b>节点。<br />
建议用Gmail邮箱注册，使用<b>163、QQ等国内邮箱</b>注册账户无法获得权限。<br />
注册完成等待一周左右时间，账号应该就能获得里区权限，参照流程登录：<br />
挂载<b>欧美V:P!И</b>，清空<b>浏览器COOKIE</b>，先<a href="https://e-hentai.org/bounce_login.php" target="_blank"><u><b>登录表站</b></u></a>，再<a href="https://exhentai.org/" target="_blank"><u><b>访问里站</b></u></a>。<br />
如果还出现白屏，多等一周换个欧美V:P!И登录，再不行就是凉了。<br />
</div>
<div>
<b>[密钥提取]</b><br />
示例格式：aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa12345x1e2d3c<br />
<b>aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</b>是<b>ipb_pass_hash</b>。<br />
<b>12345</b>是<b>ipb_member_id</b>。<br />
<b>x</b>是解析所需的<b>分隔符</b>。<br />
<b>1e2d3c</b>是<b>igneous</b>。<br />
使用电脑浏览器，<b>按上节教程登录里站</b>。按下<b>F12</b>，找到COOKIE：<br />
[Edge] Debug-Cookie-exhentai.org<br />
[Chrome] Application-Cookies-exhentai.org<br />
[Firefox] Storage-Cookies-exhentai.org<br />
复制<b>ipb_pass_hash</b>、<b>ipb_member_id</b>、<b>igneous</b>三个变量。<br />
按照格式规范组合成密钥，保存好就可以用了。<br />
</div>
</span>
<span id="monkey" style="display:none;">
<div>
<b>[安装插件]</b><br />
根据浏览器安装油猴插件：<br />
<a href="https://www.tampermonkey.net/" target="_blank"><u><b>Tampermonkey</b></u></a><br />
iOS系统只能使用<a href="javascript:;" onclick="setup('origin');"><u>传统书签</u></a>。<br />
Chrome商店进不去请改用<a href="https://www.firefox.com.cn/" target="_blank"><u>Firefox</u></a>。<br />
</div>
<div>
<b>[添加脚本]</b><br />
为油猴添加熊猫书签脚本：<br />
<a id="monkey_link" target="_blank"><u><b>Panda.user.js</b></u></a><br />
</div>
<div>
<b>[解锁里站]</b><br />
访问本页面，点击顶部“进入里站”。<br />
</div>
</span>
<span id="origin" style="display:none;">
<div>
<b>[复制代码]</b><br />
<input id="origin_code" onclick="this.select();this.setSelectionRange(0,99999);" placeholder="生成中..." /><br />
</div>
<div>
<b>[创建书签]</b><br />
把本页添加至书签。<br />
点击浏览器地址栏。<br />
找到刚才添加的书签，长按，编辑。<br />
使用刚才复制的代码，替换原有地址。<br />
</div>
<div>
<b>[解锁里站]</b><br />
点击地址栏，运行熊猫书签。<br />
跳转图标页，再次运行熊猫书签。<br />
</div>
</span>
<div>
<b>[常见问题]</b><br />
这里收集了一些使用E站时常见的错误。<br />
<b>网络封锁：链接被重置</b><br />
直接访问跳转至被墙的表站，请使用熊猫书签。<br />
<b>无权访问：白屏或“err”</b><br />
地域拦截或账号失效，请尝试断开V:P!И访问。<br />
<b>流量超限：509 Bandwidth Limit Exceeded</b><br />
浏览了过多图片，请等待配额恢复或更换IP。<br />
</div>
<div class="chart">
<a href="https://zeit.co/" target="_blank">ZEIT</a>
<a href="https://github.com/noprogramming/expanda/issues" target="_blank">GitHub</a>
<a href="https://rawgit.org/" target="_blank">RawGit</a>
</div>
<script>
function check(exkey){
if(exkey.length<36 || !/^[\dA-F]{32}$/i.test(exkey.split('x')[0].substr(0,32)) || !Number.isInteger(parseInt(exkey.split('x')[0].substr(32))) || (exkey.split('x')[1] && !/^[\dA-F]+$/i.test(exkey.split('x')[1]))){
document.getElementById('button_signup').style.color='';
window.location.hash='';
return false;
};
document.getElementById('button_signup').style.color='#228B22';
window.location.hash=exkey;
return exkey;
};
function setup(element){
var exkey=check(window.location.hash?window.location.hash.substr(1):'');
if(exkey){document.getElementById('exkey').value=exkey;};
if(current && current!=element){
document.getElementById('button_'+current).style.fontWeight='';
document.getElementById(current).style.display='none';
};
current=element;
document.getElementById('button_'+element).style.fontWeight='bold';
document.getElementById(element).style.display='';
document.getElementById('monkey_link').href=(exkey?(exkey+'.'):'')+'panda.user.js';
if(element=='origin'){
var xhr=new XMLHttpRequest();
xhr.open('GET','config?'+parseInt(Date.parse(new Date())/60000),true);
xhr.onerror=function(e){console.log('network_error');};
xhr.onreadystatechange=function(e){if(this.readyState===4 && this.status===200){
var obj=JSON.parse(this.responseText);
var txt=obj.origin.replace(/`func`/g,obj.func).replace(/`node`/g,obj.node).replace(/`key`/g,(exkey?'s.setAttribute(\'exkey\',\''+exkey+'\');':'')).replace(/`web`/g,obj.node[0]);
document.getElementById('origin_code').value=txt;
}};
xhr.send();
};
};
var current=null;
setup('signup');
</script>
</body>
</html>
